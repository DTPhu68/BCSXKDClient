<div class="small text-muted mb-2">
  <strong>Phím tắt:</strong>
  ↑ ↓ ← → để di chuyển • Enter/Shift+Enter để xuống/lên • Tab/Shift+Tab để qua phải/trái •
  Ctrl+Arrow để nhảy đầu/cuối • Ctrl+S để lưu
</div>
<table class="table table-bordered table-sm">
  <thead class="table-light">
    <tr>
      <th style="width: 5%">#</th>
      <th style="width: 40%">Chỉ tiêu</th>
      <th style="width: 19%">Kế hoạch năm</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let d of details; index as i" [ngClass]="getRowClass(d.level)">
      <td>{{ i + 1 }}</td>
      <td>
        <span [style.paddingLeft]="getIndent(d.level)">
          <span *ngIf="d.prefix">{{ d.prefix }}.</span>
          {{ d.chiTieuName }}
        </span>
      </td>
      <td>
        <input
          #cellInput
          type="text"
          appViDecimal
          [appViDecimalMin]="0"
          class="form-control text-end"
          [readonly]="!editable || !d.leafNode"
          [ngClass]="getInputClass(editable, d.leafNode)"
          [(ngModel)]="d.planValue"
          (focus)="onFocus($event, d.leafNode, d, 'planValue')"
          (blur)="onBlur($event, d, 'planValue')"
          (keydown)="onKeyDown($event, i, 0)"
          (ngModelChange)="onCellChange(d, 'planValue', $event)" />
      </td>
    </tr>
  </tbody>
</table>
